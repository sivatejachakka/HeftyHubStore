@page
@model HeftyHubRazor_Temp.Pages.Categories.CategoryCreateUpdateModel

<form method="post">
    <div class="border p-3 mt-4">
        <div class="row pb-2">
            <h2 class="text-primary">@(Model.Category == null ? "Create" : "Edit") Category</h2>
            <hr/> @* horizontal line *@
        </div>
        @* <div asp-validation-summary="ModelOnly"></div> *@

        @* ASP.NET Core MVC binds form inputs to the action method parameters. If the CategoryId is not present in the form,
           the model binder will not be able to set the CategoryId property in your ViewModel when the form is submitted.
           So on click of Update the CategoryId will be passed as 0. On the other hand if the property name in the mode is Id,
           no need to have th hidden field it will directly update the have the model value binded *@
        @if (Model.Category != null)
        {
            <input asp-for="Category.CategoryId" hidden />
        }

        <div class="mb-3 row px-4">
            @* <label class="p-0">Category Name</label> *@
            <label asp-for=Category.Name class="p-0"></label>
            <input asp-for="Category.Name" class="form-control" style="background-color:lightgray" /> @* form-control to give it the full width *@
            <span asp-validation-for="Category.Name" class="text-danger"></span>
        </div>
        
        <div class="mb-3 row px-4">
            @* <label class="p-0">Display Order</label> *@
            <label asp-for=Category.DisplayOrder class="p-0"></label>
            <input asp-for="Category.DisplayOrder" class="form-control" style="background-color:lightgray" /> @* form-control to give it the full width *@
            <span asp-validation-for="Category.DisplayOrder" class="text-danger"></span>
        </div>

        <div class="row px-4">
            @* col-md-3 defines if the screen is medium or large it will take 3 columns *@
            <div class="col-6 col-md-3">
                @* submit type calls the action method with the view name which is inside the controller with the name of view folder name and send the model by default *@
                <button type="submit" class="btn btn-primary form-control">@(Model.Category == null ? "Create" : "Update")</button>
            </div>
            
            <div class="col-6 col-md-3">
                <a asp-page="/Categories/Index" class="btn btn-outline-secondary form-control">
                    Back to List
                </a>
            </div>
        </div>
    </div>
</form>

@* Client Side Validation *@
@section Scripts{
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}